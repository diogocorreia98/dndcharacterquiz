{
  "root": "q_class_complexity",
  "nodes": {
    "q_class_complexity": {
      "type": "question",
      "section": "class",
      "question": "Com que nível de complexidade te sentes confortável?",
      "options": [
        {
          "label": "Só tenho interesse nas classes mais simples.",
          "value": "A",
          "set": [
            {
              "var": "class_complexity",
              "op": "set",
              "value": "A"
            },
            {
              "var": "class_style",
              "op": "set",
              "value": "SIMPLE_MARTIAL"
            }
          ],
          "next": "q_class_simple_choice"
        },
        {
          "label": "Só não tenho interesse nas classes mais complexas.",
          "value": "B",
          "set": [
            {
              "var": "class_complexity",
              "op": "set",
              "value": "B"
            }
          ],
          "next": "q_class_medium_style"
        },
        {
          "label": "A complexidade não me aflige.",
          "value": "C",
          "set": [
            {
              "var": "class_complexity",
              "op": "set",
              "value": "C"
            }
          ],
          "next": "q_class_high_style"
        }
      ]
    },
    "q_class_simple_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Barbarian",
          "value": "BARBARIAN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARBARIAN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Fighter",
          "value": "FIGHTER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "FIGHTER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Rogue",
          "value": "ROGUE",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ROGUE"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_medium_style": {
      "type": "question",
      "section": "class",
      "question": "Que tipo de estilo de jogo soa melhor para ti?",
      "options": [
        {
          "label": "Físico e direto.",
          "value": "A",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "MARTIAL_DIRECT"
            }
          ],
          "next": "q_class_medium_martial_choice"
        },
        {
          "label": "Algo com um pouco de magia ou poder divino.",
          "value": "B",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "MIXED_MAGIC"
            }
          ],
          "next": "q_class_medium_magic_choice"
        }
      ]
    },
    "q_class_medium_martial_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Barbarian",
          "value": "BARBARIAN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARBARIAN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Fighter",
          "value": "FIGHTER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "FIGHTER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Rogue",
          "value": "ROGUE",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ROGUE"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_medium_magic_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Cleric",
          "value": "CLERIC",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "CLERIC"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Paladin",
          "value": "PALADIN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "PALADIN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Ranger",
          "value": "RANGER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "RANGER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Wizard",
          "value": "WIZARD",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "WIZARD"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_high_style": {
      "type": "question",
      "section": "class",
      "question": "Que tipo de personagem mais te entusiasma?",
      "options": [
        {
          "label": "Poder marcial e físico",
          "value": "A",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "MARTIAL_POWER"
            }
          ],
          "next": "q_class_high_martial_choice"
        },
        {
          "label": "Conjuração completa e foco em magia",
          "value": "B",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "FULL_CASTER"
            }
          ],
          "next": "q_class_high_magic_choice"
        },
        {
          "label": "Estilos mistos ou incomuns",
          "value": "C",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "UNUSUAL"
            }
          ],
          "next": "q_class_high_unusual_choice"
        }
      ]
    },
    "q_class_high_martial_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Barbarian",
          "value": "BARBARIAN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARBARIAN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Fighter",
          "value": "FIGHTER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "FIGHTER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Rogue",
          "value": "ROGUE",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ROGUE"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Monk",
          "value": "MONK",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "MONK"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_high_magic_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Wizard",
          "value": "WIZARD",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "WIZARD"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Sorcerer",
          "value": "SORCERER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "SORCERER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Cleric",
          "value": "CLERIC",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "CLERIC"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Druid",
          "value": "DRUID",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "DRUID"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_high_unusual_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Artificer",
          "value": "ARTIFICER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ARTIFICER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Paladin",
          "value": "PALADIN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "PALADIN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Ranger",
          "value": "RANGER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "RANGER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Bard",
          "value": "BARD",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARD"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Warlock",
          "value": "WARLOCK",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "WARLOCK"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_subclass_group": {
      "type": "question",
      "section": "class",
      "question": "Preferes explorar subclasses principais ou especializadas?",
      "options": [
        {
          "label": "Quero ver as subclasses principais.",
          "value": "CORE",
          "set": [
            {
              "var": "subclass_group",
              "op": "set",
              "value": "CORE"
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_choice"
        },
        {
          "label": "Mostra-me opções mais únicas ou de nicho.",
          "value": "NICHE",
          "set": [
            {
              "var": "subclass_group",
              "op": "set",
              "value": "NICHE"
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_choice"
        }
      ]
    },
    "q_subclass_choice": {
      "type": "question",
      "section": "class",
      "question": "Qual destas subclasses chama mais por ti?",
      "options_source": {
        "type": "inline",
        "dataset": "subclasses",
        "label_field": "pt",
        "value_field": "code",
        "filters": [
          {
            "field": "class",
            "var": "class",
            "op": "eq",
            "optional": false
          },
          {
            "field": "group",
            "var": "subclass_group",
            "op": "eq",
            "optional": false
          }
        ]
      },
      "skip_if_no_options": {
        "next": null
      },
      "autoselect_if_single": {
        "dataset": "subclasses",
        "filters": [
          {
            "field": "class",
            "var": "class",
            "op": "eq",
            "optional": false
          },
          {
            "field": "group",
            "var": "subclass_group",
            "op": "eq",
            "optional": false
          }
        ],
        "value_field": "code",
        "set": [
          {
            "var": "subclass",
            "op": "set",
            "value_from_result": true
          }
        ]
      },
      "on_select": [
        {
          "var": "subclass",
          "op": "set",
          "value_from_option": true
        }
      ]
    }
  }
}
