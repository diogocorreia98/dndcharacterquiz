{
  "root": "q_class_complexity",
  "nodes": {
    "q_class_complexity": {
      "type": "question",
      "section": "class",
      "question": "Com que nível de complexidade te sentes confortável?",
      "options": [
        {
          "label": "Só tenho interesse nas classes mais simples.",
          "value": "A",
          "set": [
            {
              "var": "class_complexity",
              "op": "set",
              "value": "A"
            },
            {
              "var": "class_style",
              "op": "set",
              "value": "SIMPLE_MARTIAL"
            }
          ],
          "next": "q_class_simple_choice"
        },
        {
          "label": "Só não tenho interesse nas classes mais complexas.",
          "value": "B",
          "set": [
            {
              "var": "class_complexity",
              "op": "set",
              "value": "B"
            }
          ],
          "next": "q_class_medium_style"
        },
        {
          "label": "A complexidade não me aflige.",
          "value": "C",
          "set": [
            {
              "var": "class_complexity",
              "op": "set",
              "value": "C"
            }
          ],
          "next": "q_class_high_style"
        }
      ]
    },
    "q_class_simple_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Barbarian",
          "value": "BARBARIAN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARBARIAN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Fighter",
          "value": "FIGHTER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "FIGHTER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Rogue",
          "value": "ROGUE",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ROGUE"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_medium_style": {
      "type": "question",
      "section": "class",
      "question": "Que tipo de estilo de jogo soa melhor para ti?",
      "options": [
        {
          "label": "Físico e direto.",
          "value": "A",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "MARTIAL_DIRECT"
            }
          ],
          "next": "q_class_medium_martial_choice"
        },
        {
          "label": "Algo com um pouco de magia ou poder divino.",
          "value": "B",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "MIXED_MAGIC"
            }
          ],
          "next": "q_class_medium_magic_choice"
        }
      ]
    },
    "q_class_medium_martial_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Barbarian",
          "value": "BARBARIAN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARBARIAN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Fighter",
          "value": "FIGHTER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "FIGHTER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Rogue",
          "value": "ROGUE",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ROGUE"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_medium_magic_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Cleric",
          "value": "CLERIC",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "CLERIC"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_cleric"
        },
        {
          "label": "Paladin",
          "value": "PALADIN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "PALADIN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_paladin"
        },
        {
          "label": "Ranger",
          "value": "RANGER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "RANGER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_ranger"
        },
        {
          "label": "Wizard",
          "value": "WIZARD",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "WIZARD"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_high_style": {
      "type": "question",
      "section": "class",
      "question": "Que tipo de personagem mais te entusiasma?",
      "options": [
        {
          "label": "Poder marcial e físico",
          "value": "A",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "MARTIAL_POWER"
            }
          ],
          "next": "q_class_high_martial_choice"
        },
        {
          "label": "Conjuração completa e foco em magia",
          "value": "B",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "FULL_CASTER"
            }
          ],
          "next": "q_class_high_magic_choice"
        },
        {
          "label": "Estilos mistos ou incomuns",
          "value": "C",
          "set": [
            {
              "var": "class_style",
              "op": "set",
              "value": "UNUSUAL"
            }
          ],
          "next": "q_class_high_unusual_choice"
        }
      ]
    },
    "q_class_high_martial_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Barbarian",
          "value": "BARBARIAN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARBARIAN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Fighter",
          "value": "FIGHTER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "FIGHTER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Rogue",
          "value": "ROGUE",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ROGUE"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Monk",
          "value": "MONK",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "MONK"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_high_magic_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Wizard",
          "value": "WIZARD",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "WIZARD"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Sorcerer",
          "value": "SORCERER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "SORCERER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Cleric",
          "value": "CLERIC",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "CLERIC"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_cleric"
        },
        {
          "label": "Druid",
          "value": "DRUID",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "DRUID"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_druid"
        }
      ]
    },
    "q_class_high_unusual_choice": {
      "type": "question",
      "section": "class",
      "question": "Que classe preferes jogar?",
      "options": [
        {
          "label": "Artificer",
          "value": "ARTIFICER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "ARTIFICER"
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ]
        },
        {
          "label": "Paladin",
          "value": "PALADIN",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "PALADIN"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_paladin"
        },
        {
          "label": "Ranger",
          "value": "RANGER",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "RANGER"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_ranger"
        },
        {
          "label": "Bard",
          "value": "BARD",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "BARD"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Warlock",
          "value": "WARLOCK",
          "set": [
            {
              "var": "class",
              "op": "set",
              "value": "WARLOCK"
            },
            {
              "var": "subclass_group",
              "op": "set",
              "value": null
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            },
            {
              "var": "class_adjustment",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_class_adjustment_warlock"
        }
      ]
    },
    "q_subclass_group": {
      "type": "question",
      "section": "class",
      "question": "Preferes explorar subclasses principais ou especializadas?",
      "options": [
        {
          "label": "Quero ver as subclasses principais.",
          "value": "CORE",
          "set": [
            {
              "var": "subclass_group",
              "op": "set",
              "value": "CORE"
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_choice"
        },
        {
          "label": "Mostra-me opções mais únicas ou de nicho.",
          "value": "NICHE",
          "set": [
            {
              "var": "subclass_group",
              "op": "set",
              "value": "NICHE"
            },
            {
              "var": "subclass",
              "op": "set",
              "value": null
            },
            {
              "var": "niche_role",
              "op": "set",
              "value": null
            }
          ],
          "next": "q_subclass_niche_role"
        }
      ]
    },
    "q_subclass_niche_role": {
      "type": "question",
      "section": "class",
      "question": "Procuras algum destes papeis?",
      "when": {
        "all": [
          {
            "var": "subclass_group",
            "op": "eq",
            "value": "NICHE"
          },
          {
            "var": "class",
            "op": "in",
            "value": [
              "CLERIC",
              "MONK",
              "PALADIN",
              "ROGUE",
              "WIZARD"
            ]
          }
        ]
      },
      "options_source": {
        "type": "inline",
        "dataset": "niche_roles",
        "label_field": "pt",
        "value_field": "value",
        "filters": [
          {
            "field": "class",
            "var": "class",
            "op": "eq",
            "optional": false
          }
        ]
      },
      "skip_if_no_options": {
        "next": "q_subclass_choice"
      },
      "autoselect_if_single": {
        "dataset": "niche_roles",
        "filters": [
          {
            "field": "class",
            "var": "class",
            "op": "eq",
            "optional": false
          }
        ],
        "value_field": "value",
        "set": [
          {
            "var": "niche_role",
            "op": "set",
            "value_from_result": true
          }
        ]
      },
      "on_select": [
        {
          "var": "niche_role",
          "op": "set",
          "value_from_option": true
        }
      ],
      "next": "q_subclass_choice"
    },
    "q_subclass_choice": {
      "type": "question",
      "section": "class",
      "question": "Qual destas subclasses chama mais por ti?",
      "options_source": {
        "type": "inline",
        "dataset": "subclasses",
        "label_field": "pt",
        "value_field": "code",
        "filters": [
          {
            "field": "class",
            "var": "class",
            "op": "eq",
            "optional": false
          },
          {
            "field": "group",
            "var": "subclass_group",
            "op": "eq",
            "optional": false
          },
          {
            "field": "niche_roles",
            "var": "niche_role",
            "op": "contains",
            "optional": true
          }
        ]
      },
      "skip_if_no_options": {
        "next": null
      },
      "autoselect_if_single": {
        "dataset": "subclasses",
        "filters": [
          {
            "field": "class",
            "var": "class",
            "op": "eq",
            "optional": false
          },
          {
            "field": "group",
            "var": "subclass_group",
            "op": "eq",
            "optional": false
          },
          {
            "field": "niche_roles",
            "var": "niche_role",
            "op": "contains",
            "optional": true
          }
        ],
        "value_field": "code",
        "set": [
          {
            "var": "subclass",
            "op": "set",
            "value_from_result": true
          }
        ]
      },
      "on_select": [
        {
          "var": "subclass",
          "op": "set",
          "value_from_option": true
        }
      ]
    },
    "q_class_adjustment_cleric": {
      "type": "question",
      "section": "class",
      "question": "Que Divine Order pretendes escolher?",
      "options": [
        {
          "label": "Protector",
          "value": "CLERIC_PROTECTOR",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "CLERIC_PROTECTOR"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Thaumaturge",
          "value": "CLERIC_THAUMATURGE",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "CLERIC_THAUMATURGE"
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_adjustment_druid": {
      "type": "question",
      "section": "class",
      "question": "Que Primal Order pretendes escolher?",
      "options": [
        {
          "label": "Warden",
          "value": "DRUID_WARDEN",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "DRUID_WARDEN"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Magician",
          "value": "DRUID_MAGICIAN",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "DRUID_MAGICIAN"
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_adjustment_warlock": {
      "type": "question",
      "section": "class",
      "question": "Que Pact Boon Invocation pretendes escolher?",
      "options": [
        {
          "label": "Pact of the Tome",
          "value": "WARLOCK_PACT_OF_THE_TOME",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "WARLOCK_PACT_OF_THE_TOME"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Pact of the Chain",
          "value": "WARLOCK_PACT_OF_THE_CHAIN",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "WARLOCK_PACT_OF_THE_CHAIN"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Pact of the Blade",
          "value": "WARLOCK_PACT_OF_THE_BLADE",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "WARLOCK_PACT_OF_THE_BLADE"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "None",
          "value": "WARLOCK_NONE",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "WARLOCK_NONE"
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_adjustment_ranger": {
      "type": "question",
      "section": "class",
      "question": "Pretendes escolher o Fighting Style Druidic Warrior?",
      "options": [
        {
          "label": "Sim",
          "value": "RANGER_DRUIDIC_WARRIOR_SIM",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "RANGER_DRUIDIC_WARRIOR_SIM"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Não",
          "value": "RANGER_DRUIDIC_WARRIOR_NAO",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "RANGER_DRUIDIC_WARRIOR_NAO"
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    },
    "q_class_adjustment_paladin": {
      "type": "question",
      "section": "class",
      "question": "Pretendes escolher o Fighting Style Blessed Warrior?",
      "options": [
        {
          "label": "Sim",
          "value": "PALADIN_BLESSED_WARRIOR_SIM",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "PALADIN_BLESSED_WARRIOR_SIM"
            }
          ],
          "next": "q_subclass_group"
        },
        {
          "label": "Não",
          "value": "PALADIN_BLESSED_WARRIOR_NAO",
          "set": [
            {
              "var": "class_adjustment",
              "op": "set",
              "value": "PALADIN_BLESSED_WARRIOR_NAO"
            }
          ],
          "next": "q_subclass_group"
        }
      ]
    }
  }
}
